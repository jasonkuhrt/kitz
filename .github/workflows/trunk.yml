name: trunk
concurrency: trunk
on:
  push:
    branches: [main]
env:
  TURBO_TOKEN: ${{ secrets.TURBO_TOKEN }}
  TURBO_TEAM: ${{ vars.TURBO_TEAM }}
jobs:
  # TODO: Integrate @kitz/release for commit-driven releases
  # The release package handles versioning based on conventional commits
  # See packages/release/ for implementation
  release:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - uses: ./.github/actions/setup
      - run: pnpm build:packages
      # Placeholder: @kitz/release integration will be added here
      # - run: pnpm release:stable
